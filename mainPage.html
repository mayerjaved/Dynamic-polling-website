
<style>
   #mainForm{
        height: min-content;
        width: 600px;
        background-color: hsla(240, 1%, 33%, 0.849);
        position: absolute;
        transform: translate(-50%,-50%);
        top: 100%;
        left: 50%;
        border-radius: 10px;
        border: 2px solid #0971b61a;
        box-shadow: 0 0 40px #043a77c5;
        padding: 50px 15px;  
    }
    body{
        background-image: url('assets/backdrop1.jpg');
        background-repeat:repeat-y ;
        background-size: cover;
    }
   h3   {color: white; font-size: 100%; padding-left: -5%};
    #mainArticle { 
     grid-area: article;      
  }

  .label1{
      position: relative;
      display: inline-block;
      
  }
  #avatarTxt{
      display: inline-block;
      vertical-align: middle;
  }
  #avatarBox{
      background-color: hsla(0, 13%, 48%, 0.541);
      height: 50px;
  }
  #detail{
     color:#2657a1;
   }
   #header{
    height: min-content;
    width: 350px;
    position: relative;
    transform: translate(-50%,-50%);
    top: 11%;
    left: 50%;
    border-radius: 10px;
    border: 2px solid #0971b61a;
    box-shadow: 0 0 40px #043a7799;
    overflow:auto;
}
</style>
<HTML>
   <script>

      function yourFunction(){
         //function defined here
                     var xmlhttp = new XMLHttpRequest();
                     xmlhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                        //document.getElementById("txtHint").innerHTML = this.responseText;
                        //we use JSON.parse to clean up the 
                        let decodedText = JSON.parse(this.responseText);
                        //console.log(this.responseText);
                        console.log(decodedText);
                        //we get the length of the returned array from SQL as the highest number will be the latest question
                        
                        
                        let length = decodedText.length;
                        document.getElementById("q1").innerHTML = decodedText[length-1].content_Question;
                        document.getElementById("user1").innerHTML = decodedText[length-1].Username;
                        document.getElementById("q1a1").innerHTML = decodedText[length-1].Choice_1;
                        document.getElementById("q1a2").innerHTML = decodedText[length-1].Choice_2;
                        document.getElementById("q1a3").innerHTML = decodedText[length-1].Choice_3;
                        document.getElementById("q1a4").innerHTML = decodedText[length-1].Choice_4;
                        document.getElementById("q1a5").innerHTML = decodedText[length-1].Choice_5;
                        //the chunk above will show the latest poll with the highest id number as the first poll

                        document.getElementById("q2").innerHTML = decodedText[length-2].content_Question;
                        document.getElementById("user2").innerHTML = decodedText[length-2].Username;
                        document.getElementById("q2a1").innerHTML = decodedText[length-2].Choice_1;
                        document.getElementById("q2a2").innerHTML = decodedText[length-2].Choice_2;
                        document.getElementById("q2a3").innerHTML = decodedText[length-2].Choice_3;
                        document.getElementById("q2a4").innerHTML = decodedText[length-2].Choice_4;
                        document.getElementById("q2a5").innerHTML = decodedText[length-2].Choice_5;


                        document.getElementById("q3").innerHTML = decodedText[length-3].content_Question;
                        document.getElementById("user3").innerHTML = decodedText[length-3].Username;
                        document.getElementById("q3a1").innerHTML = decodedText[length-3].Choice_1;
                        document.getElementById("q3a2").innerHTML = decodedText[length-3].Choice_2;
                        document.getElementById("q3a3").innerHTML = decodedText[length-3].Choice_3;
                        document.getElementById("q3a4").innerHTML = decodedText[length-3].Choice_4;
                        document.getElementById("q3a5").innerHTML = decodedText[length-3].Choice_5;

                        document.getElementById("q4").innerHTML = decodedText[length-4].content_Question;
                        document.getElementById("user4").innerHTML = decodedText[length-4].Username;
                        document.getElementById("q4a1").innerHTML = decodedText[length-4].Choice_1;
                        document.getElementById("q4a2").innerHTML = decodedText[length-4].Choice_2;
                        document.getElementById("q4a3").innerHTML = decodedText[length-4].Choice_3;
                        document.getElementById("q4a4").innerHTML = decodedText[length-4].Choice_4;
                        document.getElementById("q4a5").innerHTML = decodedText[length-4].Choice_5;


                        document.getElementById("q5").innerHTML = decodedText[length-5].content_Question;
                        document.getElementById("user5").innerHTML = decodedText[length-5].Username;
                        document.getElementById("q5a1").innerHTML = decodedText[length-5].Choice_1;
                        document.getElementById("q5a2").innerHTML = decodedText[length-5].Choice_2;
                        document.getElementById("q5a3").innerHTML = decodedText[length-5].Choice_3;
                        document.getElementById("q5a4").innerHTML = decodedText[length-5].Choice_4;
                        document.getElementById("q5a5").innerHTML = decodedText[length-5].Choice_5;
                        }
                     };

                     xmlhttp.open("GET","mainPage.php",true);
                     xmlhttp.send();
         //recalls the function after every, we set an internal of 90,000ms to make it 90 seconds 
         setTimeout(yourFunction, 90000);
      }
      //recalls the function
      yourFunction();
       
   </script>


   <link rel="stylesheet" href="header.css">
   <body onload="yourFunction()">  
      <div id="header";>
          <img src="assets/logo.jpg">
          <h1>SnowSurvey</h1>
          <h2>Your local polling site</h2>
            <br></br>          
      </div>
      <div class="navBar" id="navBar">
         <a href="mainPage.html" class="active">Home</a>
         <a href="createPoll.html">Create</a>
         <a href="votePoll.html">Vote</a>
         <a href="pollManage.html">Manage</a>
         <a href="signup.html" style="float:right">SignUp</a>
         <a href="signin.html" style="float:right">SignIn</a>

         
       </div>
      <Br></br>

   <div id="mainForm";>

      <article>
         <h1>Recent Polls</h1>
         <br></br>
         <article style="padding-bottom: 15px;">
               <h3 id="avatarBox"> 
                  <img src="assets/avatar1.jpg" id="avatar1" style="height:50px;
                  width:50px;">
                   <p id="avatarTxt">Poll by: <span id="user1"></span></p> 
               </h3>
               <h3 id="q1">
                  <a href="pollDetails.html" class="detail" id="detail"> + Detailed results</a>
               </h3>
                     
               <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
               <label for='option-1' id="q1a1" style=' color:white;padding-left: 5px;'> </label>
               <br></br>
               <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
               <label for='option-2' id="q1a2" style=' color:white;padding-left: 5px;'> </label>
               <br></br>
               <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
               <label for='option-3' id="q1a3" style=' color:white;padding-left: 5px;'> </label>
               <br></br>
               <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
               <label for='option-4' id="q1a4" style=' color:white;padding-left: 5px;'> </label>
               <br></br>
               <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
               <label for='option-5' id="q1a5" style=' color:white;padding-left: 5px;'> </label>
               <br></br>
         </article>

         <article style="padding-bottom: 15px;">
            <h3 id="avatarBox"> 
               <img src="assets/avatar2.jpg" id="avatarTxt" style="height:50px;
               width:50px;">
                <p id="avatarTxt">Poll by: <span id="user2"></span></p> 
            </h3>
            <h3 id="q2"></h3>

            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
               <label for='option-1' id="q2a1" style=' color:white;padding-left: 5px;'> </label>
               <br></br>
               <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
               <label for='option-2' id="q2a2" style=' color:white;padding-left: 5px;'> </label>
               <br></br>
               <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
               <label for='option-3' id="q2a3" style=' color:white;padding-left: 5px;'> </label>
               <br></br>
               <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
               <label for='option-4' id="q2a4" style=' color:white;padding-left: 5px;'> </label>
               <br></br>
               <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
               <label for='option-5' id="q2a5" style=' color:white;padding-left: 5px;'> </label>
               <br></br>
         </article>

         <article style="padding-bottom: 15px;">
            <h3 id="avatarBox"> 
               <img src="assets/avatar3.jpg" id="avatarTxt" style="height:50px;
               width:50px;">
                <p id="avatarTxt">Poll by: <span id="user3"></span></p> 
            </h3>
            <h3 id="q3"></h3>

            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-1' id="q3a1" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-2' id="q3a2" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-3' id="q3a3" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-4' id="q3a4" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-5' id="q3a5" style=' color:white;padding-left: 5px;'> </label>
            <br></br>

         </article>

         <article style="padding-bottom: 15px;">
            <h3 id="avatarBox"> 
               <img src="assets/avatar4.jpg" id="avatarTxt" style="height:50px;
               width:50px;">
                <p id="avatarTxt">Poll by: <span id="user4"></span></p> 
            </h3>
            <h3 id="q4"></h3>

            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-1' id="q4a1" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-2' id="q4a2" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-3' id="q4a3" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-4' id="q4a4" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-5' id="q4a5" style=' color:white;padding-left: 5px;'> </label>
            <br></br>

         </article>

         <article style="padding-bottom: 15px;">
            <h3 id="avatarBox"> 
               <img src="assets/avatar5.jpg" id="avatarTxt" style="height:50px;
               width:50px;">
                <p id="avatarTxt">Poll by: <span id="user5"></span></p> 
            </h3>
            <h3 id="q5"></h3>

            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-1' id="q5a1" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-2' id="q5a2" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-3' id="q5a3" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-4' id="q5a4" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
            <input type='radio' name='option' value='Yes' id='option-1' style='transform: scale(1.0); margin-right: 10px; vertical-align: middle; margin-top: -2px;' />
            <label for='option-5' id="q5a5" style=' color:white;padding-left: 5px;'> </label>
            <br></br>
         </article>
       </article>

   </div>

</HTML>